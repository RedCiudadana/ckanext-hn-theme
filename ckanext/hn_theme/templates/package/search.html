{# 
  Plantilla personalizada para la lista de datasets (ckanext-hn-theme)
  Ruta: /dataset
  Hereda del template base de CKAN y personaliza el aside derecho.
#}

{% extends "package/search.html" %}

{# 
  Nota: este archivo extiende la plantilla original de CKAN (core),
  solo redefine los bloques que queremos personalizar.
#}

{% block secondary_content %}
  <aside class="module module-narrow custom-sidebar">
    
    {# Llamada al snippet original de filtros (facetas) #}
    {% snippet "snippets/facets.html", facets=facets, search_facets=search_facets %}

    {# Contenido adicional personalizado #}
    <div class="custom-widget">
      <h3 class="heading">Información adicional</h3>
      <div class="content">
        <p>Explora los datos abiertos de Honduras.</p>
        <ul>
          <li><a href="https://datos.gob.hn/">Portal principal</a></li>
          <li><a href="/organization">Organizaciones</a></li>
          <li><a href="/group">Categorías</a></li>
        </ul>
      </div>
    </div>

    <div class="custom-widget">
      <h3 class="heading">Estadísticas</h3>
      <div class="content">
        <p>Total de conjuntos de datos: {{ count }}</p>
        <p>Filtros aplicados: {{ active_facets|length }}</p>
      </div>
    </div>

  </aside>
{% endblock %}
